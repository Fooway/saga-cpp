<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Class pistream</title>
<link rel="stylesheet" href="../../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
<link rel="start" href="../../index.html" title="Boost.Process">
<link rel="up" href="../../boost_process/reference.html#header.boost.process.pistream.hpp" title="7.11. Header &lt;boost/process/pistream.hpp&gt;">
<link rel="prev" href="launcher.html" title="Class launcher">
<link rel="next" href="posix_child.html" title="Class posix_child">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../.././boost.png"></td></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="launcher.html"><img src="../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../../boost_process/reference.html#header.boost.process.pistream.hpp"><img src="../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../images/home.png" alt="Home"></a><a accesskey="n" href="posix_child.html"><img src="../../images/next.png" alt="Next"></a>
</div>
<div class="refentry" lang="en">
<a name="boost.process.pistream"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class pistream</span></h2>
<p>boost::process::pistream &#8212; Child process' output stream. </p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis">
<span class="bold"><strong>class</strong></span> pistream {
<span class="bold"><strong>public</strong></span>:
  <span class="emphasis"><em>// <a href="pistream.html#boost.process.pistreamconstruct-copy-destruct">construct/copy/destruct</a></em></span>
  <a href="pistream.html#id2379801-bb">pistream</a>(<span class="emphasis"><em>unspecified</em></span>);

  <span class="emphasis"><em>// <a href="pistream.html#id2379779-bb">public member functions</a></em></span>
  <span class="type"><span class="bold"><strong>void</strong></span></span> <a href="pistream.html#id2379782-bb">close</a>(<span class="bold"><strong>void</strong></span>) ;
};</pre></div>
<div class="refsect1" lang="en">
<a name="id2714244"></a><h2>Description</h2>
<p>The pistream class represents an output communication channel with the child process. The child process writes data to this stream and the parent process can read it through the pistream object. In other words, from the child's point of view, the communication channel is an output one, but from the parent's point of view it is an input one; hence the confusing pistream name.</p>
<p>pistream objects cannot be copied because they own the file handle they use to communicate with the child and because they buffer data that flows through the communication channel.</p>
<p>A pistream object behaves as a std::istream stream in all senses. The class is only provided because it must provide a method to let the caller explicitly close the communication channel.</p>
<p><span class="bold"><strong>Blocking remarks</strong></span>: Functions that read data from this stream can block if the associated file handle blocks during the read. As this class is used to communicate with child processes through anonymous pipes, the most typical blocking condition happens when the child has no more data to send to the pipe's system buffer. When this happens, the buffer eventually empties and the system blocks until the writer generates some data. </p>
<p>
</p>
<div class="refsect2" lang="en">
<a name="id2714262"></a><h3>
<a name="boost.process.pistreamconstruct-copy-destruct"></a><code class="computeroutput">pistream</code> construct/copy/destruct</h3>
<div class="orderedlist"><ol type="1"><li>
<pre class="literallayout"><a name="id2379801-bb"></a>pistream(<span class="emphasis"><em>unspecified</em></span> fh);</pre>
<p>Given a file handle, this constructor creates a new pistream object that owns the given file handle fh. Ownership of fh is transferred to the created pistream object.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term">Requires:</span></td>
<td><p>fh is valid. </p></td>
</tr>
<tr>
<td>
<span class="term">Postconditions:</span></td>
<td>
<p>fh is invalid. </p>
<p>The new pistream object owns fh. </p>
</td>
</tr>
</tbody>
</table></div>
</li></ol></div>
</div>
<div class="refsect2" lang="en">
<a name="id2714321"></a><h3>
<a name="id2379779-bb"></a><code class="computeroutput">pistream</code> public member functions</h3>
<div class="orderedlist"><ol type="1"><li>
<pre class="literallayout"><span class="type"><span class="bold"><strong>void</strong></span></span> <a name="id2379782-bb"></a>close(<span class="bold"><strong>void</strong></span> ) ;</pre>
<p>Explicitly closes the file handle managed by this stream. This function can be used by the user to tell the child process it's not willing to receive more data. </p>
</li></ol></div>
</div>
</div>
</div>
<table width="100%"><tr>
<td align="left"></td>
<td align="right"><small>Copyright © 2006 Julio M. Merino Vidal</small></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="launcher.html"><img src="../../images/prev.png" alt="Prev"></a><a accesskey="u" href="../../boost_process/reference.html#header.boost.process.pistream.hpp"><img src="../../images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../images/home.png" alt="Home"></a><a accesskey="n" href="posix_child.html"><img src="../../images/next.png" alt="Next"></a>
</div>
</body>
</html>
