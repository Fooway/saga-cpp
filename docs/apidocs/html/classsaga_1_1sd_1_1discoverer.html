<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>SAGA C++ API: saga::sd::discoverer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SAGA C++ API&#160;<span id="projectnumber">1.7</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classsaga_1_1sd_1_1discoverer.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">saga::sd::discoverer Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="saga::sd::discoverer" --><!-- doxytag: inherits="saga::object" -->
<p><code>#include &lt;<a class="el" href="discoverer_8hpp_source.html">discoverer.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for saga::sd::discoverer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classsaga_1_1sd_1_1discoverer__inherit__graph.png" border="0" usemap="#saga_1_1sd_1_1discoverer_inherit__map" alt="Inheritance graph"/></div>
<map name="saga_1_1sd_1_1discoverer_inherit__map" id="saga_1_1sd_1_1discoverer_inherit__map">
<area shape="rect" id="node2" href="classsaga_1_1object.html" title="Brief description starts here." alt="" coords="20,5,140,189"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classsaga_1_1sd_1_1discoverer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#a16c5515514a4d51840fb13b4d843dd49">discoverer</a> (<a class="el" href="classsaga_1_1url.html">saga::url</a> loc=<a class="el" href="classsaga_1_1url.html">saga::url</a>()) SAGA_THROW_SPEC()  throw (saga::not_implemented,                               saga::incorrect_url,                               saga::does_not_exist,                               saga::authorization_failed,                               saga::authentication_failed,                               saga::timeout,                               saga::no_success)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#aa110e05833f2c5688e1c075b68ac33f7">discoverer</a> (<a class="el" href="classsaga_1_1session.html">session</a> const &amp;s, <a class="el" href="classsaga_1_1url.html">saga::url</a> loc=<a class="el" href="classsaga_1_1url.html">saga::url</a>()) SAGA_THROW_SPEC()  throw (saga::not_implemented,                               saga::incorrect_url,                               saga::does_not_exist,                               saga::authorization_failed,                               saga::authentication_failed,                               saga::timeout,                               saga::no_success)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#af5d49d5583f1cab400c5031e4339315d">~discoverer</a> (void) SAGA_THROW_SPEC()  throw ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsaga_1_1sd_1_1discoverer.html">discoverer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#a4efff25f9261fba358a2ee2b6853fb8e">operator=</a> (<a class="el" href="classsaga_1_1object.html">saga::object</a> const &amp;o) SAGA_THROW_SPEC()  throw ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; <a class="el" href="classsaga_1_1sd_1_1service__description.html">saga::sd::service_description</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#a5caa9f822c78de8db527851c407c6b3f">list_services</a> (std::string service_filter, std::string data_filter, std::string authz_filter) SAGA_THROW_SPEC()  throw (saga::bad_parameter,                  saga::authorization_failed,                  saga::authentication_failed,                  saga::timeout,                  saga::no_success)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; <a class="el" href="classsaga_1_1sd_1_1service__description.html">saga::sd::service_description</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#a39604fa6d5205a70beadf86e1b7d5649">list_services</a> (std::string service_filter, std::string data_filter) SAGA_THROW_SPEC()  throw (saga::bad_parameter,                  saga::authorization_failed,                  saga::authentication_failed,                  saga::timeout,                  saga::no_success)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classsaga_1_1sd_1_1discoverer.html">discoverer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#aaf9e19dac78ec9a5e32afb3757e239df">create</a> (<a class="el" href="classsaga_1_1session.html">session</a> const &amp;s, <a class="el" href="classsaga_1_1url.html">saga::url</a> loc=<a class="el" href="classsaga_1_1url.html">saga::url</a>()) SAGA_THROW_SPEC()  throw (saga::not_implemented,                               saga::incorrect_url,                               saga::does_not_exist,                               saga::authorization_failed,                               saga::authentication_failed,                               saga::timeout,                               saga::no_success)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classsaga_1_1sd_1_1discoverer.html">discoverer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#a9f2850a6750202c809799f7c707eb3ad">create</a> (<a class="el" href="classsaga_1_1url.html">saga::url</a> loc=<a class="el" href="classsaga_1_1url.html">saga::url</a>()) SAGA_THROW_SPEC()  throw (saga::not_implemented,                               saga::incorrect_url,                               saga::not_implemented,                               saga::authorization_failed,                               saga::authentication_failed,                               saga::timeout,                               saga::no_success)</td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;typename Tag &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">static <a class="el" href="classsaga_1_1task.html">saga::task</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#ae572a3ee36fe19e409cfcbb5d3cc7ff4">create</a> (<a class="el" href="classsaga_1_1url.html">saga::url</a> loc=<a class="el" href="classsaga_1_1url.html">saga::url</a>())</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TR1::shared_ptr<br class="typebreak"/>
&lt; saga::impl::discoverer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#a23f6c464ff67774638c9d45cd933cb48">get_impl_sp</a> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">saga::impl::discoverer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#a647e53c858f1844ca8d9a50ce671913b">get_impl</a> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsaga_1_1sd_1_1discoverer.html#a2c7fea5c4e4d800ff8b588d350b363f9">discoverer</a> (saga::impl::discoverer *impl) SAGA_THROW_SPEC()  throw (saga::not_implemented,                               saga::incorrect_url,                               saga::does_not_exist,                               saga::authorization_failed,                               saga::authentication_failed,                               saga::timeout,                               saga::no_success)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Provides the entry point for service discovery. Apart from the constructor and destructor it has one method: <code>list_services</code> which returns the list of descriptions of services matching the specified filter strings.  </p>
<p>An implementation SHOULD return the results in a random order if there is more than one result to avoid any tendency to overload particular services while leaving others idle.  </p>
<p>There are three filter strings: <code>svc_filter</code>, <code>authz_filter</code> and <code>data_filter</code> which act together to restrict the set of services returned. Each of the filter strings uses SQL92 syntax as if it were part of a <code>WHERE</code> clause acting to select from a single table that includes columns as described below for that filter type. SQL92 has been chosen because it is widely known and has the desired expressive power. Multi-valued attributes are treated as a set of values.  </p>
<p>Three strings are used, rather than one, as this clarifies the description of the functionality, avoids problems with key values being themselves existing GLUE attributes, and facilitates implementation as it makes it impossible to specify constraints that correlate, for example, service and authz information. Only the following operators are permitted in expressions not involving multi-valued attributes: <code>IN</code>, <code>LIKE</code>, <code>AND</code>, <code>OR</code>, <code>NOT</code>, <code>=</code>, <code>&gt;=</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&lt;</code>, <code>&gt;&lt;</code> in addition to column names, parentheses, column values as single quoted strings, numeric values and the comma. For a multi-valued attribute, the name of the attribute MUST have the keyword <code>ALL</code> or <code>ANY</code> immediately before it, unless comparison with a set literal is intended. For each part of the expression, the attribute name MUST precede the literal value. An implementation SHOULD try to give an informative error message if the filter string does not conform. It is, however, sufficient to report in which filter string the syntax error was found.  </p>
<dl>
<dt>The <code>LIKE</code> operator matches string patterns: </dt>
<dd><code>'xyz'</code> matches all entries with trailing xyz <code>'xyz%'</code> matches all entries with leading xyz  <code>'xyz%'</code> matches all entries with xyz being a substring </dd>
</dl>
<p>The <code>ESCAPE</code> keyword can be used with <code>LIKE</code> in the normal way.  </p>
<p>Column names are not case sensitive but values are.  </p>
<p>No use-case has been identified for the operators <code>&amp;g./saga/saga/call.hppt=</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;</code> to be applied to strings. An Implementation wishing to support these comparison operators on strings MUST select a collation sequence. Alternatively, an implementation CAN treat all string comparisons as true, or reject them as invalid SQL.  </p>
<h2>Service Filter</h2>
<p>Column names in the <code>serviceFilter</code> are:  </p>
<dl>
<dt><code>type</code> </dt>
<dd>type of service. This API does not restrict values of the service type -- it might be a DNS name, a URN or any other string. </dd>
<dt><code>name</code> </dt>
<dd>name of service (not necessarily unique) </dd>
<dt><code>uid</code> </dt>
<dd>unique identifier of service </dd>
<dt><code>site</code> </dt>
<dd>name of site the service is running at </dd>
<dt><code>url</code> </dt>
<dd>the endpoint to contact the service - will normally be used with the LIKE operator </dd>
<dt><code>implementor</code> </dt>
<dd>name of the organisation providing the implementation of the service </dd>
<dt><code>relatedService</code> </dt>
<dd>the uid of a service related to the one being looked for </dd>
</dl>
<dl>
<dt>Some examples are: </dt>
<dd><code>type = 'org.ogf.saga.service.job'</code> <code>site IN ('INFN-CNAF', 'RAL-LCG2')</code> <code>type = 'org.glite.ResourceBroker' AND Site LIKE '%.uk' AND implementor = 'EGEE'</code> <code>ANY relatedService = 'someServiceUID'</code> </dd>
</dl>
<p>Note the use of the <code>ANY</code> keyword in the last example as <code>relatedService</code> is multi-valued.  </p>
<h2>Data Filter</h2>
<p>Column names in the the <code>data_filter</code> string are matched against the service data key/value pairs. No keys are predefined by this specification.  </p>
<p>If values are specified as numeric values and not in single quotes, the service data will be converted from string to numeric for comparison.  </p>
<p>Data attributes may be multi-valued. If a <code>data_filter</code> string does not have the correct syntax to accept multi-valued attributes, and a service has more than one value for an attribute mentioned in the filter, that service MUST be rejected.  </p>
<dl>
<dt>Some examples are: </dt>
<dd><code>source = 'RAL-LCG2' OR destination = 'RAL-LCG2'</code> <code>RunningJobs &gt;= 1 AND RunningJobs &lt;= 5</code> </dd>
</dl>
<h2>Authz Filter</h2>
<p>The set of column names in the <code>authz_filter</code> is not defined. Instead the list below shows a possible set of names and how they might be interpreted. Each of these column names could reasonably be related to an authorization decision. Implementations MAY reuse the attribute names defined for the <a class="el" href="classsaga_1_1context.html" title="The saga::context class provides the functionality of a security information container.">saga::context</a> class.  </p>
<dl>
<dt>vo </dt>
<dd>virtual organization - will often be used with the IN operator </dd>
<dt>dn </dt>
<dd>an X.509 ``distinguished name'' </dd>
<dt>group </dt>
<dd>a grouping of people within a Virtual Organization </dd>
<dt>role </dt>
<dd>values might include ``Administrator'' or ``ProductionManager'' </dd>
</dl>
<p>It is expected that many of the attributes used in then <code>authzFilter</code> will be multi-valued.  </p>
<dl>
<dt>Some examples, where <code>VO</code> is assmed to be multi-valued are: </dt>
<dd><code>ANY VO IN ('cms', 'atlas')</code> <code>VO = ('dteam')</code> </dd>
</dl>
<p>Note the use of the set constructor in both examples. Being a set, ('aaa','bbbb') is of course the same as ('bbb', 'aaa').  </p>
<p>The <code>listServices</code> method is overloaded: the last parameter the <code>authzFilter</code> may be omitted. If it is omitted the authorization filtering is performed on the contexts in the session. This is quite different from including the <code>authzFilter</code> parameter with an empty string which means that there is <b>no</b> authz filtering.  </p>

<p>Definition at line <a class="el" href="discoverer_8hpp_source.html#l00179">179</a> of file <a class="el" href="discoverer_8hpp_source.html">discoverer.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2c7fea5c4e4d800ff8b588d350b363f9"></a><!-- doxytag: member="saga::sd::discoverer::discoverer" ref="a2c7fea5c4e4d800ff8b588d350b363f9" args="(saga::impl::discoverer *impl) SAGA_THROW_SPEC()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">saga::sd::discoverer::discoverer </td>
          <td>(</td>
          <td class="paramtype">saga::impl::discoverer *&#160;</td>
          <td class="paramname"><em>impl</em></td><td>)</td>
          <td>  throw (<a class="el" href="classsaga_1_1not__implemented.html">saga::not_implemented</a>,                               <a class="el" href="classsaga_1_1incorrect__url.html">saga::incorrect_url</a>,                               <a class="el" href="classsaga_1_1does__not__exist.html">saga::does_not_exist</a>,                               <a class="el" href="classsaga_1_1authorization__failed.html">saga::authorization_failed</a>,                               <a class="el" href="classsaga_1_1authentication__failed.html">saga::authentication_failed</a>,                               <a class="el" href="classsaga_1_1timeout.html">saga::timeout</a>,                               <a class="el" href="classsaga_1_1no__success.html">saga::no_success</a>)<code> [explicit, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a16c5515514a4d51840fb13b4d843dd49"></a><!-- doxytag: member="saga::sd::discoverer::discoverer" ref="a16c5515514a4d51840fb13b4d843dd49" args="(saga::url loc=saga::url()) SAGA_THROW_SPEC()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">saga::sd::discoverer::discoverer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsaga_1_1url.html">saga::url</a>&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="classsaga_1_1url.html">saga::url</a>()</code></td><td>)</td>
          <td>  throw (<a class="el" href="classsaga_1_1not__implemented.html">saga::not_implemented</a>,                               <a class="el" href="classsaga_1_1incorrect__url.html">saga::incorrect_url</a>,                               <a class="el" href="classsaga_1_1does__not__exist.html">saga::does_not_exist</a>,                               <a class="el" href="classsaga_1_1authorization__failed.html">saga::authorization_failed</a>,                               <a class="el" href="classsaga_1_1authentication__failed.html">saga::authentication_failed</a>,                               <a class="el" href="classsaga_1_1timeout.html">saga::timeout</a>,                               <a class="el" href="classsaga_1_1no__success.html">saga::no_success</a>)<code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default constructor. Constructs a discoverer object using a default session.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">loc</td><td>URL to use.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsaga_1_1not__implemented.html">not_implemented</a></td><td>if the discoverer class is not implemented by the SAGA implementation at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1incorrect__url.html">incorrect_url</a></td><td>if an implementation cannot handle the specified protocol, or that access to the specified entity via the given protocol is impossible. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1does__not__exist.html">does_not_exist</a></td><td>if the url is syntactically valid, but no service can be contacted at that URL. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1authorization__failed.html">authorization_failed</a></td><td>if none of the available contexts of the used session could be used for successful authorization. That error indicates that the resource could not be accessed at all, and not that an operation was not available due to restricted permissions. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1authentication__failed.html">authentication_failed</a></td><td>if none of the available session contexts could successfully be used for authentication. </td></tr>
    <tr><td class="paramname">timeout</td><td>if a remote operation did not complete successfully because the network communication or the remote service timed out. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1no__success.html">no_success</a></td><td>if no result can be returned because of information system or other internal problems. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa110e05833f2c5688e1c075b68ac33f7"></a><!-- doxytag: member="saga::sd::discoverer::discoverer" ref="aa110e05833f2c5688e1c075b68ac33f7" args="(session const &amp;s, saga::url loc=saga::url()) SAGA_THROW_SPEC()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">saga::sd::discoverer::discoverer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsaga_1_1session.html">session</a> const &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsaga_1_1url.html">saga::url</a>&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="classsaga_1_1url.html">saga::url</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classsaga_1_1not__implemented.html">saga::not_implemented</a>,                               <a class="el" href="classsaga_1_1incorrect__url.html">saga::incorrect_url</a>,                               <a class="el" href="classsaga_1_1does__not__exist.html">saga::does_not_exist</a>,                               <a class="el" href="classsaga_1_1authorization__failed.html">saga::authorization_failed</a>,                               <a class="el" href="classsaga_1_1authentication__failed.html">saga::authentication_failed</a>,                               <a class="el" href="classsaga_1_1timeout.html">saga::timeout</a>,                               <a class="el" href="classsaga_1_1no__success.html">saga::no_success</a>)<code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. Constructs a discoverer object using the given session.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Session to use.</td></tr>
    <tr><td class="paramname">loc</td><td>URL to use.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsaga_1_1not__implemented.html">not_implemented</a></td><td>if the discoverer class is not implemented by the SAGA implementation at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1incorrect__url.html">incorrect_url</a></td><td>if an implementation cannot handle the specified protocol, or that access to the specified entity via the given protocol is impossible. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1does__not__exist.html">does_not_exist</a></td><td>if the url is syntactically valid, but no service can be contacted at that URL. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1authorization__failed.html">authorization_failed</a></td><td>if none of the available contexts of the used session could be used for successful authorization. That error indicates that the resource could not be accessed at all, and not that an operation was not available due to restricted permissions. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1authentication__failed.html">authentication_failed</a></td><td>if none of the available session contexts could successfully be used for authentication. </td></tr>
    <tr><td class="paramname">timeout</td><td>if a remote operation did not complete successfully because the network communication or the remote service timed out. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1no__success.html">no_success</a></td><td>if no result can be returned because of information system or other internal problems. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af5d49d5583f1cab400c5031e4339315d"></a><!-- doxytag: member="saga::sd::discoverer::~discoverer" ref="af5d49d5583f1cab400c5031e4339315d" args="(void) SAGA_THROW_SPEC()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">saga::sd::discoverer::~discoverer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td>  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a23f6c464ff67774638c9d45cd933cb48"></a><!-- doxytag: member="saga::sd::discoverer::get_impl_sp" ref="a23f6c464ff67774638c9d45cd933cb48" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TR1::shared_ptr&lt;saga::impl::discoverer&gt; saga::sd::discoverer::get_impl_sp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a647e53c858f1844ca8d9a50ce671913b"></a><!-- doxytag: member="saga::sd::discoverer::get_impl" ref="a647e53c858f1844ca8d9a50ce671913b" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">saga::impl::discoverer* saga::sd::discoverer::get_impl </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aaf9e19dac78ec9a5e32afb3757e239df"></a><!-- doxytag: member="saga::sd::discoverer::create" ref="aaf9e19dac78ec9a5e32afb3757e239df" args="(session const &amp;s, saga::url loc=saga::url()) SAGA_THROW_SPEC()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classsaga_1_1sd_1_1discoverer.html">discoverer</a> saga::sd::discoverer::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsaga_1_1session.html">session</a> const &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsaga_1_1url.html">saga::url</a>&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="classsaga_1_1url.html">saga::url</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classsaga_1_1not__implemented.html">saga::not_implemented</a>,                               <a class="el" href="classsaga_1_1incorrect__url.html">saga::incorrect_url</a>,                               <a class="el" href="classsaga_1_1does__not__exist.html">saga::does_not_exist</a>,                               <a class="el" href="classsaga_1_1authorization__failed.html">saga::authorization_failed</a>,                               <a class="el" href="classsaga_1_1authentication__failed.html">saga::authentication_failed</a>,                               <a class="el" href="classsaga_1_1timeout.html">saga::timeout</a>,                               <a class="el" href="classsaga_1_1no__success.html">saga::no_success</a>)<code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>discoverer factory. Constructs a discoverer object using the given session.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>Session to use.</td></tr>
    <tr><td class="paramname">loc</td><td>URL to use.</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsaga_1_1not__implemented.html">not_implemented</a></td><td>if the discoverer class is not implemented by the SAGA implementation at all. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1incorrect__url.html">incorrect_url</a></td><td>if an implementation cannot handle the specified protocol, or that access to the specified entity via the given protocol is impossible. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1does__not__exist.html">does_not_exist</a></td><td>if the url is syntactically valid, but no service can be contacted at that URL. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1authorization__failed.html">authorization_failed</a></td><td>if none of the available contexts of the used session could be used for successful authorization. That error indicates that the resource could not be accessed at all, and not that an operation was not available due to restricted permissions. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1authentication__failed.html">authentication_failed</a></td><td>if none of the available session contexts could successfully be used for authentication. </td></tr>
    <tr><td class="paramname">timeout</td><td>if a remote operation did not complete successfully because the network communication or the remote service timed out. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1no__success.html">no_success</a></td><td>if no result can be returned because of information system or other internal problems. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="discoverer_8hpp_source.html#l00333">333</a> of file <a class="el" href="discoverer_8hpp_source.html">discoverer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9f2850a6750202c809799f7c707eb3ad"></a><!-- doxytag: member="saga::sd::discoverer::create" ref="a9f2850a6750202c809799f7c707eb3ad" args="(saga::url loc=saga::url()) SAGA_THROW_SPEC()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classsaga_1_1sd_1_1discoverer.html">discoverer</a> saga::sd::discoverer::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsaga_1_1url.html">saga::url</a>&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="classsaga_1_1url.html">saga::url</a>()</code></td><td>)</td>
          <td>  throw (<a class="el" href="classsaga_1_1not__implemented.html">saga::not_implemented</a>,                               <a class="el" href="classsaga_1_1incorrect__url.html">saga::incorrect_url</a>,                               <a class="el" href="classsaga_1_1not__implemented.html">saga::not_implemented</a>,                               <a class="el" href="classsaga_1_1authorization__failed.html">saga::authorization_failed</a>,                               <a class="el" href="classsaga_1_1authentication__failed.html">saga::authentication_failed</a>,                               <a class="el" href="classsaga_1_1timeout.html">saga::timeout</a>,                               <a class="el" href="classsaga_1_1no__success.html">saga::no_success</a>)<code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="discoverer_8hpp_source.html#l00379">379</a> of file <a class="el" href="discoverer_8hpp_source.html">discoverer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae572a3ee36fe19e409cfcbb5d3cc7ff4"></a><!-- doxytag: member="saga::sd::discoverer::create" ref="ae572a3ee36fe19e409cfcbb5d3cc7ff4" args="(saga::url loc=saga::url())" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Tag &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classsaga_1_1task.html">saga::task</a> saga::sd::discoverer::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsaga_1_1url.html">saga::url</a>&#160;</td>
          <td class="paramname"><em>loc</em> = <code><a class="el" href="classsaga_1_1url.html">saga::url</a>()</code></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="discoverer_8hpp_source.html#l00392">392</a> of file <a class="el" href="discoverer_8hpp_source.html">discoverer.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4efff25f9261fba358a2ee2b6853fb8e"></a><!-- doxytag: member="saga::sd::discoverer::operator=" ref="a4efff25f9261fba358a2ee2b6853fb8e" args="(saga::object const &amp;o) SAGA_THROW_SPEC()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsaga_1_1sd_1_1discoverer.html">discoverer</a>&amp; saga::sd::discoverer::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsaga_1_1object.html">saga::object</a> const &amp;&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td>  throw ()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a5caa9f822c78de8db527851c407c6b3f"></a><!-- doxytag: member="saga::sd::discoverer::list_services" ref="a5caa9f822c78de8db527851c407c6b3f" args="(std::string service_filter, std::string data_filter, std::string authz_filter) SAGA_THROW_SPEC()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classsaga_1_1sd_1_1service__description.html">saga::sd::service_description</a>&gt; saga::sd::discoverer::list_services </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>service_filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>data_filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>authz_filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classsaga_1_1bad__parameter.html">saga::bad_parameter</a>,                  <a class="el" href="classsaga_1_1authorization__failed.html">saga::authorization_failed</a>,                  <a class="el" href="classsaga_1_1authentication__failed.html">saga::authentication_failed</a>,                  <a class="el" href="classsaga_1_1timeout.html">saga::timeout</a>,                  <a class="el" href="classsaga_1_1no__success.html">saga::no_success</a>)<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the set of services that pass the set of specified filters. A service will only be included once in the returned list of services.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">service_filter</td><td>a string containing the filter for filtering on the basic service and site attributes and on related services </td></tr>
    <tr><td class="paramname">data_filter</td><td>a string containing the filter for filtering on key/value pairs associated with the service </td></tr>
    <tr><td class="paramname">authz_filter</td><td>a string containing the filter for filtering on authorization information associated with the service </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>list of service descriptions, in a random order, matching the filter criteria</dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsaga_1_1bad__parameter.html">bad_parameter</a></td><td>if any filter has an invalid syntax or if any filter uses invalid keys. However the <code>dataFilter</code> never signals invalid keys as there is no schema with permissible key names. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1authorization__failed.html">authorization_failed</a></td><td>if none of the available contexts of the used session could be used for successful authorization. That error indicates that the resource could not be accessed at all, and not that an operation was not available due to restricted permissions. </td></tr>
    <tr><td class="paramname">authenticationfailed</td><td>if none of the available session contexts could successfully be used for authentication </td></tr>
    <tr><td class="paramname">timeout</td><td>if a remote operation did not complete successfully because the network communication or the remote service timed out </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1no__success.html">no_success</a></td><td>if no result can be returned because of information system or other internal problems </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="discoverer_8hpp_source.html#l00442">442</a> of file <a class="el" href="discoverer_8hpp_source.html">discoverer.hpp</a>.</p>

<p>References <a class="el" href="task_8cpp_source.html#l00227">saga::task::get_result()</a>.</p>

<p>Referenced by <a class="el" href="service__description_8cpp_source.html#l00143">saga::sd::service_description::get_related_services()</a>.</p>

</div>
</div>
<a class="anchor" id="a39604fa6d5205a70beadf86e1b7d5649"></a><!-- doxytag: member="saga::sd::discoverer::list_services" ref="a39604fa6d5205a70beadf86e1b7d5649" args="(std::string service_filter, std::string data_filter) SAGA_THROW_SPEC()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classsaga_1_1sd_1_1service__description.html">saga::sd::service_description</a>&gt; saga::sd::discoverer::list_services </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>service_filter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>data_filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>  throw (<a class="el" href="classsaga_1_1bad__parameter.html">saga::bad_parameter</a>,                  <a class="el" href="classsaga_1_1authorization__failed.html">saga::authorization_failed</a>,                  <a class="el" href="classsaga_1_1authentication__failed.html">saga::authentication_failed</a>,                  <a class="el" href="classsaga_1_1timeout.html">saga::timeout</a>,                  <a class="el" href="classsaga_1_1no__success.html">saga::no_success</a>)<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the set of services that pass the set of specified filters, an implicit <code>authz_filter</code> is constructed from the contexts of the session. Note that this is different from an empty <code>authz_filter</code>, as that would apply no authorization filter at all.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">service_filter</td><td>a string containing the filter for filtering on the basic service and site attributes and on related services </td></tr>
    <tr><td class="paramname">data_filter</td><td>a string containing the filter for filtering on key/value pairs associated with the service </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>list of service descriptions, in a random order, matching the filter criteria </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classsaga_1_1bad__parameter.html">bad_parameter</a></td><td>if any filter has an invalid syntax or if any filter uses invalid keys. However the <code>dataFilter</code> never signals invalid keys as there is no schema with permissible key names. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1authorization__failed.html">authorization_failed</a></td><td>if none of the available contexts of the used session could be used for successful authorization. That error indicates that the resource could not be accessed at all, and not that an operation was not available due to restricted permissions. </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1authentication__failed.html">authentication_failed</a></td><td>if none of the available session contexts could successfully be used for authentication </td></tr>
    <tr><td class="paramname">timeout</td><td>if a remote operation did not complete successfully because the network communication or the remote service timed out </td></tr>
    <tr><td class="paramname"><a class="el" href="classsaga_1_1no__success.html">no_success</a></td><td>if no result can be returned because of information system or other internal problems </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="discoverer_8hpp_source.html#l00497">497</a> of file <a class="el" href="discoverer_8hpp_source.html">discoverer.hpp</a>.</p>

<p>References <a class="el" href="task_8cpp_source.html#l00227">saga::task::get_result()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="discoverer_8hpp_source.html">discoverer.hpp</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacesaga.html">saga</a>      </li>
      <li class="navelem"><a class="el" href="namespacesaga_1_1sd.html">sd</a>      </li>
      <li class="navelem"><a class="el" href="classsaga_1_1sd_1_1discoverer.html">discoverer</a>      </li>
      <li class="footer">Generated on Wed Dec 14 2011 10:10:02 for SAGA C++ API by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
